const MILLENNIUM_IS_CLIENT_MODULE=!1,pluginName="battlepass-steam";function InitializePlugins(){var n,e;let t;(n=window.PLUGIN_LIST||(window.PLUGIN_LIST={}))[pluginName]||(n[pluginName]={}),(e=window.MILLENNIUM_PLUGIN_SETTINGS_STORE||(window.MILLENNIUM_PLUGIN_SETTINGS_STORE={}))[pluginName]||(e[pluginName]={}),window.MILLENNIUM_SIDEBAR_NAVIGATION_PANELS||(window.MILLENNIUM_SIDEBAR_NAVIGATION_PANELS={}),function(n){n[n.CallServerMethod=0]="CallServerMethod"}(t||(t={}));let i=window.MILLENNIUM_PLUGIN_SETTINGS_STORE[pluginName],o=`Millennium.Internal.IPC.[${pluginName}]`;const r={DropDown:["string","number","boolean"],NumberTextInput:["number"],StringTextInput:["string"],FloatTextInput:["number"],CheckBox:["boolean"],NumberSlider:["number"],FloatSlider:["number"]};i.ignoreProxyFlag=!1;const a=n=>new Proxy(n,{set(n,e,t){if(!(e in n))throw new TypeError(`Property ${String(e)} does not exist on plugin settings`);const a=r[n[e].type],l=n[e]?.range;if(a.includes("number")&&"number"==typeof t&&(l&&(t=function(n,e,t){return Math.max(e,Math.min(t,n))}(t,l[0],l[1])),t||(t=0)),!a.includes(typeof t))throw new TypeError(`Expected ${a.join(" or ")}, got ${typeof t}`);return n[e].value=t,((n,e)=>{i.ignoreProxyFlag||SteamClient.BrowserView.PostMessageToParent(o,JSON.stringify({name:n,value:e}))})(String(e),t),!0},get:(n,e)=>"__raw_get_internals__"===e?n:e in n?n[e].value:void 0});i.DefinePluginSetting=a,i.settingsStore=a({})}InitializePlugins();const __call_server_method__=(n,e)=>Millennium.callServerMethod(pluginName,n,e);function __wrapped_callable__(n){return n.startsWith("webkit:")?MILLENNIUM_API.callable((n,e)=>MILLENNIUM_API.__INTERNAL_CALL_WEBKIT_METHOD__(pluginName,n,e),n.replace(/^webkit:/,"")):MILLENNIUM_API.callable(__call_server_method__,n)}let PluginEntryPointMain=function(){return function(n){"use strict";return n.default=async function(){for(console.log("[BattlePass] Webkit started, URL:",window.location.href);!document.body;)await new Promise(n=>setTimeout(n,100));const n=document.createElement("div");n.id="bp-indicator",n.innerHTML="✓ BattlePass Plugin РАБОТАЕТ!",n.style.cssText="\n    position: fixed !important;\n    top: 10px !important;\n    left: 10px !important;\n    background: #00ff00 !important;\n    color: #000 !important;\n    padding: 15px 25px !important;\n    font-size: 18px !important;\n    font-weight: bold !important;\n    font-family: Arial, sans-serif !important;\n    border-radius: 10px !important;\n    z-index: 999999999 !important;\n    box-shadow: 0 4px 20px rgba(0,255,0,0.5) !important;\n  ",document.body.appendChild(n),setTimeout(()=>{n.remove()},1e4)},Object.defineProperty(n,"__esModule",{value:!0}),n}({})};function ExecutePluginModule(){let n=window.MILLENNIUM_PLUGIN_SETTINGS_STORE[pluginName];n.OnPluginConfigChange=function(e,t,i){e in n.settingsStore&&(n.ignoreProxyFlag=!0,n.settingsStore[e]=i,n.ignoreProxyFlag=!1)},MILLENNIUM_BACKEND_IPC.postMessage(0,{pluginName:pluginName,methodName:"__builtins__.__millennium_plugin_settings_parser__"}).then(async e=>{"string"==typeof e.returnValue&&(n.ignoreProxyFlag=!0,n.settingsStore=n.DefinePluginSetting(Object.fromEntries(JSON.parse(atob(e.returnValue)).map(n=>[n.functionName,n]))),n.ignoreProxyFlag=!1);let t=PluginEntryPointMain();Object.assign(window.PLUGIN_LIST[pluginName],{...t,__millennium_internal_plugin_name_do_not_use_or_change__:pluginName});let i=await t.default();var o;i&&(o=i)&&void 0!==o.title&&void 0!==o.icon&&void 0!==o.content?window.MILLENNIUM_SIDEBAR_NAVIGATION_PANELS[pluginName]=i:console.warn(`Plugin ${pluginName} does not contain proper SidebarNavigation props and therefor can't be mounted by Millennium. Please ensure it has a title, icon, and content.`)})}ExecutePluginModule();